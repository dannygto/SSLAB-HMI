{
	"version": "2.0.0",
	"tasks": [
		{
			"label": "ğŸš€ å®Œæ•´æ„å»ºéƒ¨ç½²æµç¨‹",
			"type": "shell",
			"command": "Write-Host 'ğŸš€ å¼€å§‹å®Œæ•´æ„å»ºéƒ¨ç½²æµç¨‹...' -ForegroundColor Magenta; $env:ANDROID_HOME = 'D:\\Android\\Sdk'; Write-Host '1ï¸âƒ£ æ¸…ç†é¡¹ç›®...' -ForegroundColor Yellow; Set-Location SSLAB-Android-HMI; ./gradlew clean; Write-Host '2ï¸âƒ£ æ„å»ºAPK...' -ForegroundColor Yellow; ./gradlew assembleDebug; if ($LASTEXITCODE -eq 0) { Write-Host 'âœ… æ„å»ºæˆåŠŸ!' -ForegroundColor Green; $apkPath = 'app\\build\\outputs\\apk\\debug\\app-debug.apk'; Write-Host '3ï¸âƒ£ å®‰è£…åˆ°æœ¬åœ°è®¾å¤‡...' -ForegroundColor Yellow; ./gradlew installDebug; Write-Host '4ï¸âƒ£ è¿æ¥è¿œç¨‹è™šæ‹Ÿæœº...' -ForegroundColor Yellow; & \"$env:ANDROID_HOME\\platform-tools\\adb.exe\" connect 192.168.0.145:5555; Start-Sleep 3; Write-Host '5ï¸âƒ£ æ¨é€åˆ°è™šæ‹Ÿæœº...' -ForegroundColor Yellow; & \"$env:ANDROID_HOME\\platform-tools\\adb.exe\" install -r $apkPath; Write-Host '6ï¸âƒ£ å¯åŠ¨åº”ç”¨...' -ForegroundColor Yellow; & \"$env:ANDROID_HOME\\platform-tools\\adb.exe\" shell am start -n com.sslab.hmi/.MainActivity; Write-Host 'ğŸ‰ å®Œæ•´éƒ¨ç½²å®Œæˆï¼' -ForegroundColor Green } else { Write-Host 'âŒ æ„å»ºå¤±è´¥!' -ForegroundColor Red }",
			"isBackground": false,
			"problemMatcher": [
				"$gradle"
			],
			"group": {
				"kind": "build",
				"isDefault": true
			},
			"options": {
				"cwd": "D:\\CODE\\SSLAB-HMI",
				"shell": {
					"executable": "powershell.exe",
					"args": ["-Command"]
				}
			},
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": true,
				"panel": "shared",
				"showReuseMessage": true,
				"clear": true
			}
		},
		{
			"label": "ğŸ–¥ï¸ å¯åŠ¨æ¨¡æ‹ŸæœåŠ¡å™¨",
			"type": "shell",
			"command": "Write-Host 'ğŸ–¥ï¸ å¯åŠ¨SSLABè®¾å¤‡æ¨¡æ‹ŸæœåŠ¡å™¨...' -ForegroundColor Cyan; Write-Host 'ğŸ”„ æ¸…ç†å ç”¨çš„ç«¯å£...' -ForegroundColor Yellow; Get-Process -Name node -ErrorAction SilentlyContinue | Stop-Process -Force -ErrorAction SilentlyContinue; Start-Sleep -Seconds 2; Write-Host 'ğŸ“‚ åˆ‡æ¢åˆ°æœåŠ¡å™¨ç›®å½•...' -ForegroundColor Cyan; Set-Location 'Device-Simulator-Server'; Write-Host 'ğŸš€ å¯åŠ¨æœåŠ¡å™¨...' -ForegroundColor Green; Write-Host 'è®¿é—®åœ°å€: http://192.168.0.145:8080' -ForegroundColor Yellow; Write-Host 'äº’åŠ¨æ•™å­¦: http://192.168.0.145:8080/interactive-teaching' -ForegroundColor Yellow; node src/server.js",
			"isBackground": true,
			"group": "build",
			"options": {
				"cwd": "D:\\CODE\\SSLAB-HMI",
				"shell": {
					"executable": "powershell.exe",
					"args": ["-Command"]
				}
			},
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": false,
				"panel": "new",
				"showReuseMessage": true,
				"clear": true
			},
			"problemMatcher": []
		},
		{
			"label": "ğŸ“± å¯åŠ¨APPå¹¶ç›‘æ§",
			"type": "shell",
			"command": "Write-Host 'ğŸ“± å¯åŠ¨APPå¹¶å¼€å§‹ç›‘æ§...' -ForegroundColor Cyan; $env:ANDROID_HOME = 'D:\\Android\\Sdk'; Write-Host 'ğŸ” æ£€æŸ¥è®¾å¤‡è¿æ¥...' -ForegroundColor Yellow; $devices = & \"$env:ANDROID_HOME\\platform-tools\\adb.exe\" devices | Select-String -Pattern 'device$'; Write-Host \"å‘ç° $($devices.Count) ä¸ªè®¾å¤‡\" -ForegroundColor Green; if ($devices.Count -gt 0) { $realDevice = ($devices | Select-String -Pattern '^[0-9a-f]+' | Select-Object -First 1).Line.Split()[0]; $emulator = ($devices | Select-String -Pattern 'emulator' | Select-Object -First 1).Line.Split()[0]; if ($realDevice) { Write-Host \"ğŸš€ å¯åŠ¨çœŸæœºAPP ($realDevice)...\" -ForegroundColor Green; & \"$env:ANDROID_HOME\\platform-tools\\adb.exe\" -s $realDevice shell am start -n com.sslab.hmi/.MainActivity } if ($emulator) { Write-Host \"ğŸš€ å¯åŠ¨æ¨¡æ‹Ÿå™¨APP ($emulator)...\" -ForegroundColor Green; & \"$env:ANDROID_HOME\\platform-tools\\adb.exe\" -s $emulator shell am start -n com.sslab.hmi/.MainActivity } Write-Host 'ğŸ“Š å¼€å§‹ç›‘æ§åº”ç”¨æ—¥å¿—...' -ForegroundColor Cyan; Write-Host 'æŒ‰Ctrl+Cåœæ­¢ç›‘æ§' -ForegroundColor Yellow; if ($realDevice) { & \"$env:ANDROID_HOME\\platform-tools\\adb.exe\" -s $realDevice logcat -s 'SSLAB-HMI' 'AndroidRuntime' 'System.err' } elseif ($emulator) { & \"$env:ANDROID_HOME\\platform-tools\\adb.exe\" -s $emulator logcat -s 'SSLAB-HMI' 'AndroidRuntime' 'System.err' } } else { Write-Host 'âŒ æ²¡æœ‰æ‰¾åˆ°è¿æ¥çš„è®¾å¤‡' -ForegroundColor Red }",
			"isBackground": true,
			"group": "test",
			"options": {
				"cwd": "D:\\CODE\\SSLAB-HMI",
				"shell": {
					"executable": "powershell.exe",
					"args": ["-Command"]
				}
			},
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": false,
				"panel": "new",
				"showReuseMessage": false,
				"clear": true
			},
			"problemMatcher": []
		}
	]
}
